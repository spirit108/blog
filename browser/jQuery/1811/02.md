# jQuery源码分析(2)-链式调用
> 版本：1.7.2；时间：181115

## 链式调用
### 1. 链式调用基础-最简单的链式调用
> 每次通过原型链访问方法，返回示例对象，便能实现链式访问

#### 代码
```
function Fn(params) {
    return Fn.prototype.init(params);
}
Fn.prototype.init = function (params) {
    this.ele = 1;
    // this.ele.push(params);
    return this;
};
Fn.prototype.say = function(params) {
    console.log(this.ele );
    this.ele += params;
    return this;
}
Fn.prototype.speak = function(params) {
    console.log(this.ele);
    return this;
}
new Fn(1).say(2).speak();
// 1 => 3 

```

### 2. jQuery的链式调用
#### 代码
```
var jQuery = (function () {
    var jQuery = function (selector, context) {
        return new jQuery.fn.init(selector, context);
    };

    // 核心属性和方法
    jQuery.fn = jQuery.prototype = {
        constructor: jQuery,
        // 简陋版的css选择器，而真正的jquery是用sizzle，sizzle是一个纯粹的javascript css选择器引擎。
        init: function (selector, context) {
            context = context || document;
            var ele = context.querySelectorAll(selector);
            this.length = ele.length;
            for (var i = 0; i < ele.length; i++) {
                this[i] = ele[i];
            }
            return this;
        },

        selector: "",
        size: function () {
            return this.length;
        },
    };
    
    //为init函数提供zQ原型以供以后实例化
    jQuery.fn.init.prototype = jQuery.fn;
    return jQuery;
})();
```