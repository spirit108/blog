# js 面向对象初接触（6）
> 组合型 - 装饰器模式

## 装饰器模式定义
不通过派生类增改类属性动作，而是通过模式设计动态的达到这种效果，而且比继承更方便灵活减少程序的复杂性。

## 装饰器模式何时使用
在不想增加很多子类的情况下扩展类。

## 怎么使用
1. es7 修饰器提案
2. 现在需要通过 babel 转换兼容
3. [环境配置](https://www.tomz.club/blog/md/Other/webpack/2018-12/03.md) 

## 代码模拟
### 一，给类修饰静态属性
```
function desc(name) {
    target.name = name;
}
@desc
class Obj {}
```

### 二，给类原型修饰属性
> 实例对象可以访问

```
function desc(name) {
    target.prototype.name = name;
}
@desc
class Obj {}
// 或者
function desc(name) {
    target.name = name;
}
class Obj {
    @desc
}
```

### 三，修饰类的方法
```
// 直接修改原型上say方法
class Test {
    constructor(name) {
        this.name = name;
    }
    @desc
    say() {
        console.log(this.name);
    }
    so() {
        console.log(this.name);
    }
}
function desc(target, name, descriptor) {
    console.log(name);
    console.log(descriptor);
    descriptor.value = "4";
    return descriptor;
}
```
